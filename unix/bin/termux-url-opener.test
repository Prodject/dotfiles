#!/data/data/com.termux/files/usr/bin/bash
# Maintainer: Faris Chugthai

# TODO: Also remember to print the name of the file as youre going!

# Heres an example of using case in Bash.
# From Greg's Wiki Bash Guide page 52

echo "Hello. How would you like to download this YouTube video?"
echo "ENTER 1-5 TO SELECT YOUR RESPONSE"
echo "    1. Single video"
echo "    2. Single video (audio only)"
echo "    3. Full playlist"
echo "    4. Full playlist (audio only)"
echo "    5. Other (not YouTube)"

read -p "-> " response

# pull more info from: https://github.com/addy-dclxvi/almighty-dotfiles/blob/master/.utility/ytmp3

case $response in
    1*) youtube-dl \
        -o "$HOME/storage/shared/Videos/%(title)s.%(ext)s" \
        --add-metadata --metadata-from-title "%(artist)s - %(title)s" --xattrs \
        -f mp4 --prefer-ffmpeg --no-mtime --write-auto-sub \
        --embed-subs --write-thumbnail --embed-thumbnail --restrict-filenames \
        --no-call-home --print-json --youtube-skip-dash-manifest --verbose $1;;
    2*) youtube-dl \
        -o "$HOME/storage/shared/Music/%(title)s.%(ext)s" \
        --add-metadata --metadata-from-title "%(artist)s - %(title)s" \
        -x --audio-format mp3 --audio-quality 0 --prefer-ffmpeg --no-mtime \
        --write-auto-sub --embed-subs --embed-thumbnail \
        --restrict-filenames $1;;
    3*) youtube-dl $1;;
    4*) youtube-dl $1;;
    5*) ipython termux-urls.ipy "$@";;
    *) echo "I do not understand your choice.";; 
esac

# First things first test to make sure this behaves as expected
# Then add in case 5.

